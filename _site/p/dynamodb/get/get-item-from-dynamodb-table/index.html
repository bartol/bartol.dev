<p>Have you just read my previous article about putting data in DynamoDB? And are you wondering how to get that data? You are at the right place. First of all you need to add permission for lambda to get item from DynamoDB.</p>
<pre class="language-yaml"><code class="language-yaml"><span class="highlight-line"><span class="token comment"># ...</span></span><br><span class="highlight-line"><span class="token key atrule">provider</span><span class="token punctuation">:</span></span><br><span class="highlight-line">  <span class="token comment"># ...</span></span><br><span class="highlight-line">  <span class="token key atrule">iamRoleStatements</span><span class="token punctuation">:</span></span><br><span class="highlight-line">    <span class="token punctuation">-</span> <span class="token key atrule">Effect</span><span class="token punctuation">:</span> Allow</span><br><span class="highlight-line">      <span class="token key atrule">Action</span><span class="token punctuation">:</span></span><br><span class="highlight-line">        <span class="token punctuation">-</span> dynamodb<span class="token punctuation">:</span>GetItem</span><br><span class="highlight-line">      <span class="token key atrule">Resource</span><span class="token punctuation">:</span> <span class="token string">'arn:aws:dynamodb:us-east-1:111111111:table/tableName'</span></span></code></pre>
<p>After that you should open function handler and import <code>aws-sdk</code> via import or require syntax...</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">const</span> <span class="token constant">AWS</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'aws-sdk'</span><span class="token punctuation">)</span></span><br><span class="highlight-line"><span class="token comment">// or if you're using ES6</span></span><br><span class="highlight-line"><span class="token keyword">import</span> <span class="token constant">AWS</span> <span class="token keyword">from</span> <span class="token string">'aws-sdk'</span></span></code></pre>
<p>...and initialize DynamoDB document client.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">const</span> docClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AWS<span class="token punctuation">.</span>DynamoDB<span class="token punctuation">.</span>DocumentClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></code></pre>
<p>And last thing you have to do is initialize <code>params</code> object that will contain DynamoDB table name, your table's primary key and it's value. <code>params</code> object is then passed as argument to document client get method.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  TableName<span class="token punctuation">:</span> tableName<span class="token punctuation">,</span></span><br><span class="highlight-line">  Key<span class="token punctuation">:</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    id<span class="token punctuation">:</span> <span class="token string">'value'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">await</span> docClient<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>Quite easy when you wrap your head around one of CRUD DynamoDB functions.</p>
