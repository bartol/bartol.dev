<p>Okay, you've received some data in your lambda function and you want to save it to DynamoDB table. First thing you have to do is add permission to put item in <code>serverless.yml</code>.</p>
<pre class="language-yaml"><code class="language-yaml"><span class="highlight-line"><span class="token comment"># ...</span></span><br><span class="highlight-line"><span class="token key atrule">provider</span><span class="token punctuation">:</span></span><br><span class="highlight-line">  <span class="token comment"># ...</span></span><br><span class="highlight-line">  <span class="token key atrule">iamRoleStatements</span><span class="token punctuation">:</span></span><br><span class="highlight-line">    <span class="token punctuation">-</span> <span class="token key atrule">Effect</span><span class="token punctuation">:</span> Allow</span><br><span class="highlight-line">      <span class="token key atrule">Action</span><span class="token punctuation">:</span></span><br><span class="highlight-line">        <span class="token punctuation">-</span> dynamodb<span class="token punctuation">:</span>PutItem</span><br><span class="highlight-line">      <span class="token key atrule">Resource</span><span class="token punctuation">:</span> <span class="token string">'arn:aws:dynamodb:us-east-1:111111111:table/tableName'</span></span></code></pre>
<p>After that you should open function handler and import <code>aws-sdk</code> via import or require syntax...</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">const</span> <span class="token constant">AWS</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'aws-sdk'</span><span class="token punctuation">)</span></span><br><span class="highlight-line"><span class="token comment">// or if you're using ES6</span></span><br><span class="highlight-line"><span class="token keyword">import</span> <span class="token constant">AWS</span> <span class="token keyword">from</span> <span class="token string">'aws-sdk'</span></span></code></pre>
<p>...and initialize DynamoDB document client.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">const</span> docClient <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AWS<span class="token punctuation">.</span>DynamoDB<span class="token punctuation">.</span>DocumentClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></code></pre>
<p>For putting data in table you'll need to pass 2 required parameters, TableName and Item. TableName will specify same table you added permission earlier and Item is data that you want to put.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  TableName<span class="token punctuation">:</span> tableName<span class="token punctuation">,</span></span><br><span class="highlight-line">  Item<span class="token punctuation">:</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    someProperty<span class="token punctuation">:</span> someValue<span class="token punctuation">,</span></span><br><span class="highlight-line">    anotherProperty<span class="token punctuation">:</span> anotherValue<span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span><br><span class="highlight-line"></span><br><span class="highlight-line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">await</span> docClient<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>And that's pretty much it! Be sure to deploy your function and after running it data should appear in DynamoDB table dashboard.</p>
