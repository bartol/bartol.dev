<p>First thing we have to do is add permission to invoke function. Add following to your <code>serverless.yml</code> and replace <code>Resource</code> with <a href="https://docs.aws.amazon.com/general/latest/gr/aws-arns-and-namespaces.html">AWS ARN</a> of your function.</p>
<pre class="language-yaml"><code class="language-yaml"><span class="highlight-line"><span class="token key atrule">provider</span><span class="token punctuation">:</span></span><br><span class="highlight-line">  <span class="token key atrule">iamRoleStatements</span><span class="token punctuation">:</span></span><br><span class="highlight-line">    <span class="token punctuation">-</span> <span class="token key atrule">Effect</span><span class="token punctuation">:</span> Allow</span><br><span class="highlight-line">      <span class="token key atrule">Action</span><span class="token punctuation">:</span></span><br><span class="highlight-line">        <span class="token punctuation">-</span> lambda<span class="token punctuation">:</span>InvokeFunction</span><br><span class="highlight-line">      <span class="token key atrule">Resource</span><span class="token punctuation">:</span> <span class="token string">'arn:aws:lambda:us-east-1:111111111:function:functionName'</span></span></code></pre>
<p>Next we will start with new function. It must import <code>aws-sdk</code>. There are multiple options if you are using ES6 in your functions or not.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">const</span> <span class="token constant">AWS</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'aws-sdk'</span><span class="token punctuation">)</span></span><br><span class="highlight-line"><span class="token comment">// or if you're using ES6</span></span><br><span class="highlight-line"><span class="token keyword">import</span> <span class="token constant">AWS</span> <span class="token keyword">from</span> <span class="token string">'aws-sdk'</span></span></code></pre>
<p>Also, we need to initialize lambda sdk.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">const</span> lambda <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AWS<span class="token punctuation">.</span>Lambda</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span></code></pre>
<p>After that in function body we will add <code>params</code> for invocation which will contain name of function that we want to invoke, invocation type of <code>Event</code> and payload which will contain JSON with all parameters you want to pass to function.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">const</span> params <span class="token operator">=</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  FunctionName<span class="token punctuation">:</span> <span class="token string">'functionName'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  InvocationType<span class="token punctuation">:</span> <span class="token string">'Event'</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  Payload<span class="token punctuation">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span><br><span class="highlight-line">    id<span class="token punctuation">:</span> <span class="token number">10239015</span><span class="token punctuation">,</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>And the last thing we need is to really invoke it and pass <code>params</code> object we created earlier. Note that function has to be asynchronous for <code>await</code> keyword to work.</p>
<pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">await</span> lambda<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span><br><span class="highlight-line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">return</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>And it's done. Another function will be invoked and current function will not wait for it to finish or respond with data.</p>
