<p>For the past few days I was working on Lambda Function that programmatically generates thumbnails for social media from URL. Also, I really want to dive in TypeScript more, so this was great opportunity to test the water with small project. Setting up TypeScript for Lambda was surprisingly easy thanks to <a href="https://github.com/prisma-labs/serverless-plugin-typescript">this serverless plugin</a>.</p>
<p>To start, as expected, you need to add plugin and typescript as dev dependencies.</p>
<pre class="language-bash"><code class="language-bash"><span class="highlight-line"><span class="token function">yarn</span> <span class="token function">add</span> -D serverless-plugin-typescript typescript</span></code></pre>
<p>And latter, you need to add plugin to <code>serverless.yml</code>.</p>
<pre class="language-yaml"><code class="language-yaml"><span class="highlight-line"><span class="token key atrule">plugins</span><span class="token punctuation">:</span></span><br><span class="highlight-line">  <span class="token punctuation">-</span> serverless<span class="token punctuation">-</span>plugin<span class="token punctuation">-</span>typescript</span></code></pre>
<p>That's it! TypeScript is now working in your project. You just need to configure it with <code>tsconfig.json</code>. These are defaults that plugin uses.</p>
<pre class="language-json"><code class="language-json"><span class="highlight-line"><span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token property">"compilerOptions"</span><span class="token operator">:</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token property">"preserveConstEnums"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"strictNullChecks"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"sourceMap"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"allowJs"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"target"</span><span class="token operator">:</span> <span class="token string">"es5"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"outDir"</span><span class="token operator">:</span> <span class="token string">".build"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"moduleResolution"</span><span class="token operator">:</span> <span class="token string">"node"</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"lib"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"es2015"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span><br><span class="highlight-line">    <span class="token property">"rootDir"</span><span class="token operator">:</span> <span class="token string">"./"</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
<p>Worth noting is that <code>serverless-plugin-typescript</code> works great with <code>serverless-offline</code> and similar plugins.</p>
