<p>Long story short. I have made script for scraping some stuff and put it on the DigitalOcean droplet and as I had problems with crashing (*cough poorly written code), I have found this process manager called <a href="http://pm2.keymetrics.io/">PM2</a> (Process Manager 2). Heard about it long time but never got to use one. Oh, boy! It's awesome.</p>
<h2>Installation</h2>
<p>Like any other npm module.</p>
<pre class="language-bash"><code class="language-bash"><span class="highlight-line"><span class="token function">npm</span> i pm2 -g</span></code></pre>
<h2>Basic usage</h2>
<ol>
<li>Start a process</li>
</ol>
<pre class="language-bash"><code class="language-bash"><span class="highlight-line">pm2 start app.js --name <span class="token string">"your_app_name"</span></span><br><span class="highlight-line"><span class="token comment"># next time start app with</span></span><br><span class="highlight-line">pm2 start your_app_name</span></code></pre>
<ol start="2">
<li>Stop a process</li>
</ol>
<pre class="language-bash"><code class="language-bash"><span class="highlight-line">pm2 stop your_app_name</span></code></pre>
<ol start="3">
<li>Delete a process</li>
</ol>
<pre class="language-bash"><code class="language-bash"><span class="highlight-line">pm2 delete your_app_name</span></code></pre>
<p>You can also use <code>all</code> instead of app name to do operation on all processes</p>
<h2>Monitoring</h2>
<p>See list of all running processes.</p>
<pre class="language-bash"><code class="language-bash"><span class="highlight-line">pm2 list</span></code></pre>
<p>View dashboard with live info from processes.</p>
<pre class="language-bash"><code class="language-bash"><span class="highlight-line">pm2 monit   <span class="token comment"># this is not a typo</span></span></code></pre>
<h2>Parameters</h2>
<p>You can pass argument to pm2 to enhance your experience.</p>
<p>Pass arguments to your app.</p>
<pre class="language-bash"><code class="language-bash"><span class="highlight-line">-- arg1 arg2 arg3</span></code></pre>
<p>Save console logs to file.</p>
<pre class="language-bash"><code class="language-bash"><span class="highlight-line">--log path/to/file</span><br><span class="highlight-line"><span class="token comment"># you can also prefix logs with time if you add --time</span></span></code></pre>
<p>Restart app on file change.</p>
<pre class="language-bash"><code class="language-bash"><span class="highlight-line">--watch</span></code></pre>
<p>Restart when app reaches memory limit.</p>
<pre class="language-bash"><code class="language-bash"><span class="highlight-line">--max-memory-restart 750M</span></code></pre>
<p>Restart on <a href="https://en.wikipedia.org/wiki/Cron">cron</a> job.</p>
<pre class="language-bash"><code class="language-bash"><span class="highlight-line">--cron cron_pattern</span></code></pre>
